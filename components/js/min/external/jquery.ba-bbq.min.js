!function(a){function b(a){return"string"==typeof a}function c(a){var b=v.call(arguments,1);return function(){return a.apply(this,b.concat(v.call(arguments)))}}function d(a){return a.replace(r,"$2")}function e(a){return a.replace(/(?:^[^?#]*\?([^#]*).*$)?.*/,"$1")}function f(c,d,e,f,g){var h,k,m,n,o;return f!==i?(m=e.match(c?r:/^([^#?]*)\??([^#]*)(#?.*)/),o=m[3]||"",2===g&&b(f)?k=f.replace(c?q:G,""):(n=l(m[2]),f=b(f)?l[c?C:B](f):f,k=2===g?f:1===g?a.extend({},f,n):a.extend({},n,f),k=j(k),c&&(k=k.replace(s,w))),h=m[1]+(c?u:k||!m[1]?"?":"")+k+o):h=d(e!==i?e:location.href),h}function g(a,c,d){return c===i||"boolean"==typeof c?(d=c,c=x[a?C:B]()):c=b(c)?c.replace(a?q:G,""):c,l(c,d)}function h(c,d,e,f){return b(e)||"object"==typeof e||(f=e,e=d,d=i),this.each(function(){var b=a(this),g=d||p()[(this.nodeName||"").toLowerCase()]||"",h=g&&b.attr(g)||"";b.attr(g,x[c](h,e,f))})}var i,j,k,l,m,n,o,p,q,r,s,t,u,v=Array.prototype.slice,w=decodeURIComponent,x=a.param,y=a.bbq=a.bbq||{},z=a.event.special,A="hashchange",B="querystring",C="fragment",D="elemUrlAttr",E="href",F="src",G=/^.*\?|#.*$/g,H={};x[B]=c(f,0,e),x[C]=k=c(f,1,d),x.sorted=j=function(b,c){var d=[],e={};return a.each(x(b,c).split("&"),function(a,b){var c=b.replace(/(?:%5B|=).*$/,""),f=e[c];f||(f=e[c]=[],d.push(c)),f.push(b)}),a.map(d.sort(),function(a){return e[a]}).join("&")},k.noEscape=function(b){b=b||"";var c=a.map(b.split(""),encodeURIComponent);s=new RegExp(c.join("|"),"g")},k.noEscape(",/"),k.ajaxCrawlable=function(a){return a!==i&&(a?(q=/^.*(?:#!|#)/,r=/^([^#]*)(?:#!|#)?(.*)$/,u="#!"):(q=/^.*#/,r=/^([^#]*)#?(.*)$/,u="#"),t=!!a),t},k.ajaxCrawlable(0),a.deparam=l=function(b,c){var d={},e={"true":!0,"false":!1,"null":null};return a.each(b.replace(/\+/g," ").split("&"),function(b,f){var g,h=f.split("="),j=w(h[0]),k=d,l=0,m=j.split("]["),n=m.length-1;if(/\[/.test(m[0])&&/\]$/.test(m[n])?(m[n]=m[n].replace(/\]$/,""),m=m.shift().split("[").concat(m),n=m.length-1):n=0,2===h.length)if(g=w(h[1]),c&&(g=g&&!isNaN(g)?+g:"undefined"===g?i:e[g]!==i?e[g]:g),n)for(;n>=l;l++)j=""===m[l]?k.length:m[l],k=k[j]=n>l?k[j]||(m[l+1]&&isNaN(m[l+1])?{}:[]):g;else a.isArray(d[j])?d[j].push(g):d[j]=d[j]!==i?[d[j],g]:g;else j&&(d[j]=c?i:"")}),d},l[B]=c(g,0),l[C]=m=c(g,1),a[D]||(a[D]=function(b){return a.extend(H,b)})({a:E,base:E,iframe:F,img:F,input:F,form:"action",link:E,script:F}),p=a[D],a.fn[B]=c(h,B),a.fn[C]=c(h,C),y.pushState=n=function(a,c){b(a)&&/^#/.test(a)&&c===i&&(c=2);var d=a!==i,e=k(location.href,d?a:{},d?c:2);location.href=e},y.getState=o=function(a,b){return a===i||"boolean"==typeof a?m(a):m(b)[a]},y.removeState=function(b){var c={};b!==i&&(c=o(),a.each(a.isArray(b)?b:arguments,function(a,b){delete c[b]})),n(c,2)},z[A]=a.extend(z[A],{add:function(b){function c(a){var b=a[C]=k();a.getState=function(a,c){return a===i||"boolean"==typeof a?l(b,a):l(b,c)[a]},d.apply(this,arguments)}var d;return a.isFunction(b)?(d=b,c):(d=b.handler,void(b.handler=c))}})}(jQuery,this),function(a,b,c){function d(a){return a=a||location.href,"#"+a.replace(/^[^#]*#?(.*)$/,"$1")}var e,f="hashchange",g=document,h=a.event.special,i=g.documentMode,j="on"+f in b&&(i===c||i>7);a.fn[f]=function(a){return a?this.bind(f,a):this.trigger(f)},a.fn[f].delay=50,h[f]=a.extend(h[f],{setup:function(){return j?!1:void a(e.start)},teardown:function(){return j?!1:void a(e.stop)}}),e=function(){function e(){var c=d(),g=n(k);c!==k?(m(k=c,g),a(b).trigger(f)):g!==k&&(location.href=location.href.replace(/#.*/,"")+g),h=setTimeout(e,a.fn[f].delay)}var h,i={},k=d(),l=function(a){return a},m=l,n=l;return i.start=function(){h||e()},i.stop=function(){h&&clearTimeout(h),h=c},a.browser.msie&&!j&&function(){var b,c;i.start=function(){b||(c=a.fn[f].src,c=c&&c+d(),b=a('<iframe tabindex="-1" title="empty"/>').hide().one("load",function(){c||m(d()),e()}).attr("src",c||"javascript:0").insertAfter("body")[0].contentWindow,g.onpropertychange=function(){try{"title"===event.propertyName&&(b.document.title=g.title)}catch(a){}})},i.stop=l,n=function(){return d(b.location.href)},m=function(c,d){var e=b.document,h=a.fn[f].domain;c!==d&&(e.title=g.title,e.open(),h&&e.write('<script>document.domain="'+h+'"</script>'),e.close(),b.location.hash=c)}}(),i}()}(jQuery,this);